{% extends "base.html" %}
{% load static %}

{% block content %}
<div class="cnt-overall" id="cnt-overview-mc">
    <div id="left-col" data-aos="fade-right">
        <div class="flex-centre" id="left-col-header-cnt">
            <div id="sm-logo-cnt">
                <img src="{% static 'general/images/sxd_logo_60px.png' %}">
            </div>
            <div class="med-header-txt" id="left-col-info-header">
                Match Centre<text class="sxd-y">.</text>
            </div>
        </div>

        <div class="flex-spc-even" id="left-col-name-logo-cnt">
            <div id="sm-team-logo-cnt">
                <span class="Centerer"></span>
                <img src="{% static 'general/images/rosmini_logo_org.PNG' %}">
            </div>
            <div class="flex-down med-std-txt" id="left-col-info-header">
                <div>Rosmini College 1st XV<text class="sxd-y">.</text></div>
                <div><text class="sxd-y">2021</text> Season<text class="sxd-y">.</text></div>
            </div>
        </div>

        <div id="left-col-btns-cnt">
           <nav class="sidebar-nav">
                <ul class="med-std-txt" id="side-bar-menu-cnt">
                    <li id="side-bar-menu-item" class="flex-centre">
                        <a class="basic-btns hvr-icon-spin" onclick="displayOverview();">
                            <img class="hvr-icon" src="{% static 'general/images/schedule.png' %}">
                            <text class="side-txt">Overview</text>
                        </a>
                    </li>
                    <li id="side-bar-menu-item" class="flex-centre">
                        <a class="basic-btns hvr-icon-spin" onclick="displayAttack();">
                            <img class="hvr-icon" src="{% static 'general/images/attack.png' %}">
                            <text class="side-txt">Attack</text>
                        </a>
                    </li>
                    <li id="side-bar-menu-item" class="flex-centre">
                        <a class="basic-btns hvr-icon-spin" onclick="displayDefense();">
                            <img class="hvr-icon" src="{% static 'general/images/defense.png' %}">
                            <text class="side-txt">Defense</text>
                        </a>
                    </li>
                   <li id="side-bar-menu-item" class="flex-centre">
                        <a class="basic-btns hvr-icon-spin" onclick="displayKickingGame();">
                            <img class="hvr-icon" src="{% static 'general/images/kicking.png' %}">
                            <text class="side-txt">Kicking Game</text>
                        </a>
                    </li>
                    <li id="side-bar-menu-item" class="flex-centre">
                        <a class="basic-btns hvr-icon-spin" onclick="displayBallHandling();">
                            <img class="hvr-icon" src="{% static 'general/images/bh.png' %}">
                            <text class="side-txt">Ball Handling</text>
                        </a>
                    </li>
                    <li id="side-bar-menu-item" class="flex-centre">
                        <a class="basic-btns hvr-icon-spin" onclick="displayRucks();">
                            <img class="hvr-icon" src="{% static 'general/images/breakdown.png' %}">
                            <text class="side-txt">Breakdown</text>
                        </a>
                    </li>
                    <li id="side-bar-menu-item" class="flex-centre">
                        <a class="basic-btns hvr-icon-spin" onclick="displaySetPiece();">
                            <img class="hvr-icon" src="{% static 'general/images/setpiece.png' %}">
                            <text class="side-txt">Set Piece</text>
                        </a>
                    </li>
                    <li id="side-bar-menu-item" class="flex-centre">
                        <a class="basic-btns hvr-icon-spin" onclick="displayDiscipline();">
                            <img class="hvr-icon" src="{% static 'general/images/discipline.png' %}">
                            <text class="side-txt">Discipline</text>
                        </a>
                    </li>
                </ul>
           </nav>
        </div>
        <div id="left-col-extras-box-cnt">

        </div>
    </div>
    <div id="middle-col" data-aos="fade-right">
        <div class="flex-down" id="mc-header-txt-cnt">
            <text class="lg-header-txt">Game <text class="sxd-y"v>vs</text> <text id="header-game-against"></text><text class="sxd-y">.</text></text>
            <text class="med-std-txt">Played: <text class="sxd-y" id="date-txt"></text></text>
        </div>
        <div id="curr-sect-header">
            <text class="lger-header-text" id="tc-header-txt">Overview<text class="sxd-y">.</text></text>
        </div>
        <!-- Navbar decides what is displayed here. -->
        <div id="main-content-tm-centre"></div> 
    </div>
    <div id="right-col">
    </div>
</div>
{% endblock %}
{% block javascript %}
    <script type="text/javascript">
    
        // Grab data relavent to game.
        var data = JSON.parse("{{ data|escapejs }}");
        var game_id = "{{ game_id }}";
        var curr_team = "{{ user.get_username }}";
        console.log("Current Team is: ", curr_team);
        var game_id_int = parseInt(game_id);
        console.log("Current Game Data", data);
        console.log("Current Game ID: ", game_id);

        
    
        // Get current team against
        const getTeamAgainst = () => {
            tm_against = data["game_info_data"][0][1];
            tm_against_str = tmHeaders[tm_against];
            return tm_against_str;
        }

        // SetCorrect Header
        const setHeader = (team_against) => {
            $("#header-game-against").html(team_against);
        }

        // Get Date of game
        const getGameDate = () => {
            let curr_date = data["game_info_data"][0][4];
            return curr_date;
        }

        // convert date helper function
        const convertDate = (temp_date) => { 
            temp_date = date_str.split("-");
            return temp_date[2] + " " + months[Number(temp_date[1]) - 1] + " " + temp_date[0];
        }

        // Set Date of game played
        const setDate = () =>{
            date_str = getGameDate();
            let new_date_str = convertDate(date_str);
            $("#date-txt").html(new_date_str);
        }


        // Set for and against scores
        const setScore = () => {
            let score_for = data["game_info_data"][0][2] + "  "
            let score_against = "  " + data["game_info_data"][0][3];

            $("#sf-id").html(score_for);
            $("#sa-id").html(score_against);
        }

        // Set Win Loss draw letter
        const setResult = () => {
            let result = data["game_info_data"][0][5];
            if (result == "Win") {
                $("#result-letter").html("W");
                $("#result-letter").css("color", "#4E8F00");
            }
            else if (result == "Loss") {
                $("#result-letter").html("L");
                $("#result-letter").css("color", "#9B0000");
            }
            else if (result == "Draw") {
                $("#result-letter").html("D");
                $("#result-letter").css("color", "#f8bd41");
            }
            else {
                $("#result-letter").html("N/A");
                $("#result-letter").css("color", "#f8bd41");
            }
        }

        // SEt Game Events (Tries, pens cons)
        const setGameEvents = () => {
            let tries_info = "<text class='sxd-y'>Tries</text>: " + data["game_event_data"][0][6];
            $("#gm-tries").html(tries_info);

            let con_info = "<text class='sxd-y'>Cons</text>: " + data["game_event_data"][0][4];
            $("#gm-cons").html(con_info);

            let pen_info = "<text class='sxd-y'>Pens</text>: " + data["game_event_data"][0][5];
            $("#gm-pens").html(pen_info);
        }

        // Set League in which team is playing in
        const setLeague = () => {
            $("#league-name-id").html(Leagues[curr_team]);
        }

        // Set Posession stat
        const setOverviewStats = () => {

            let relevant_data = data["game_overview_data"]

            $("#pos-stat").html(relevant_data["'posession'"][0][0]);
            $("#terr-stat").html(relevant_data["'territory'"][0][0]);
            $("#he-stat").html(relevant_data["'handling_errors'"][0][0]);
            $("#ts-stat").html(relevant_data["'tackle_success'"][0][0]);
            $("#ts-total-stat").html(relevant_data["'top_tackler_total'"][0][0]);
            $("#ts-pct-stat").html(relevant_data["'top_tackler_percentage'"][0][0]); 
            $("#top-lb-stat").html(relevant_data["'top_linebreaks'"][0][0]);
            $("#top-tck-broken").html(relevant_data["'top_tackles_broken'"][0][0]);
            $("#top-tck-pct-broken-first").html(relevant_data["'top_tackles_broken_percentage'"][0][0]);
            $("#ruck-steals-stat").html(relevant_data["'most_ruck_steals'"][0][0]); 
            $("#top-passes-to-lb-stat").html(relevant_data["'best_playmaker_pass_to_linebreaks'"][0][0]);
            $("#top-passess-success-stat").html(relevant_data["'best_playmaker_successful_passes'"][0][0]);
            $("#top-bc-total-stat").html(relevant_data["'most_ball_carries'"][0][0]);
        }

        const setAttackStats = () => {
            let relevant_data = data["game_attack_data"]

            $("#tries-scored-stat").html(relevant_data["'tries_scored_stat'"][0][0]);
            $("#tries-scored-av-stat").html(relevant_data["'avg_tries_scored_season'"][0][0]);
            $("#tries-scored-total-stat").html(relevant_data["'total_season_tries'"][0][0]);
            $("#lb-stat").html(relevant_data["'linebreaks_total'"][0][0]);
            $("#rob-stat").html(relevant_data["'running_onto_ball_pct'"][0][0]);
            $("#opp-22-stat").html(relevant_data["'time_in_opp22'"][0][0]);
            $("#tb-stat").html(relevant_data["'tackles_broken'"][0][0]); 
            $("#pts-22-stat").html(relevant_data["'points_per_visit_22'"][0][0]);
        }

        const fillInfo = () => {
            // Set header
            let team_against = getTeamAgainst(game_id_int)
            setHeader(team_against);

            setLeague();

            // Set and display Date
            setDate();

            //Set score
            setScore();

            //Set W/L
            setResult();

            //Set GameEvents
            setGameEvents();

            //Set OverView stats 
            setOverviewStats();

            // Set Attack STats
            setAttackStats();
        }

       

        

        const displayOverview = () => {
            console.log("Displaying Overview Stats");
            $(".cnt-overall").attr("id", "cnt-overview-mc");
            $("#middle-col").css({
                "grid-row-end": "51",
                "grid-template-rows": "repeat(48, 1fr)"
            });
            $("#main-content-tm-centre").css({
                "grid-row-end": "51",
                "grid-template-rows": "repeat(48, 1fr)"
            });
            let html_layout = `
                <div class="gr-panel row-1 col-hlf-1" id="basic-stats-panel-id">
                    <div id="result-letter-big"><text class="sxd-g xll-header-txt" id="result-letter">W</text></div>
                    <div id="gm-score"><text id="sf-id">21</text><text class="sxd-y">-</text><text id="sa-id">16</text></div>
                    <div id="gm-basic-stats-id">
                        <div class="gm-event-txt" id="gm-tries">
                        </div>
                        <div class="gm-event-txt" id="gm-cons">
                        </div>
                        <div class="gm-event-txt" id="gm-pens">
                        </div>
                        <div class="gm-event-txt" id="gm-dgs">
                        </div>
                    </div>
                </div>
                <div class="gr-panel row-1 col-hlf-2" id="pos-stds-panel-id">
                    <div id="league-title-id" class="med-std-txt"><text id="league-name-id"></text></div>
                    <div id="league-sub-id" class="med-std-txt"><text class="sxd-y">Current Position</text> in Standings after Match.</div>
                    <div id="pos-change-lg-id" class="lg-header-txt">2nd</div>
                    <div id="change-val-id" class="sxd-g xs-small-txt">+1</div>
                </div>
                <div class="gr-panel row-2 col-qrt-1" id="posession-panel-id">
                    <h2 class="q-panel-g-1-header">Posession</h2>
                    <h1 class="q-panel-g-1-value lg-header-txt"><text id="pos-stat"></text><text class="sxd-y">%</text></h1>
                    <h4 class="q-panel-g-1-sa-txt xs-small-txt">Compared to SA</h4>
                    <h4 class="q-panel-g-1-la-txt xs-small-txt">Compared to LA</h4>
                    <h3 class="q-panel-g-1-sa-val xs-small-txt sxd-g">+3%</h3>
                    <h3 class="q-panel-g-1-la-val xs-small-txt">+1%</h3>
                </div>
                <div class="gr-panel row-2 col-qrt-2" id="territory-panel-id">
                    <h2 class="q-panel-g-1-header med-std-txt">Territory</h2>
                    <h1 class="q-panel-g-1-value lg-header-txt"><text id="terr-stat">N/A</text><text class="sxd-y">%</text></h1>
                    <h4 class="q-panel-g-1-sa-txt xs-small-txt">Compared to SA</h4>
                    <h4 class="q-panel-g-1-la-txt xs-small-txt">Compared to LA</h4>
                    <h3 class="q-panel-g-1-sa-val xs-small-txt sxd-g">+3%</h3>
                    <h3 class="q-panel-g-1-la-val xs-small-txt">+1%</h3>
                </div>
                <div class="gr-panel row-2 col-qrt-3" id="handling-errors-panel-id">
                    <h2 class="q-panel-g-1-header med-std-txt">Handling Errors</h2>
                    <h1 class="q-panel-g-1-value lg-header-txt"><text id="he-stat">N/A</text></h1>
                    <h4 class="q-panel-g-1-sa-txt xs-small-txt">Compared to SA</h4>
                    <h4 class="q-panel-g-1-la-txt xs-small-txt">Compared to LA</h4>
                    <h3 class="q-panel-g-1-sa-val xs-small-txt sxd-g">+3%</h3>
                    <h3 class="q-panel-g-1-la-val xs-small-txt">+1%</h3>
                </div>
                <div class="gr-panel row-2 col-qrt-4" id="tackling-success-panel-id">
                    <h2 class="q-panel-g-1-header med-std-txt">Tackle Success %</h2>
                    <h1 class="q-panel-g-1-value lg-header-txt"><text id="ts-stat">N/A</text><text class="sxd-y">%</text></h1>
                    <h4 class="q-panel-g-1-sa-txt xs-small-txt">Compared to SA</h4>
                    <h4 class="q-panel-g-1-la-txt xs-small-txt">Compared to LA</h4>
                    <h3 class="q-panel-g-1-sa-val xs-small-txt sxd-g">+3%</h3>
                    <h3 class="q-panel-g-1-la-val xs-small-txt">+1%</h3>
                </div>


                <div class="gr-panel row-3 col-thrd-1" id="top-tkler-panel-id">
                    <h2 class="q-panel-g-1-header med-std-txt">Top Tackler</h2>
                    <div class="q-panel-g-1-value med-2-std-txt"><text class="sxd-y">#</text>7 Ben Afu</div>
                    <h4 class="q-panel-g-1-sa-txt xs-small-txt">No. of Tackles</h4>
                    <h4 class="q-panel-g-1-la-txt xs-small-txt">Tackles Success %</h4>
                    <h3 class="q-panel-g-1-sa-val med-2-std-txt"><text id="ts-total-stat">N/A</text></h3>
                    <h3 class="q-panel-g-1-la-val med-2-std-txt"><text id="ts-pct-stat">N/A<text class="sxd-y">%</text></h3>
                </div>
                <div class="gr-panel row-3 col-thrd-2" id="top-lb-panel-id">
                    <h2 class="q-panel-g-1-header med-std-txt">Top Line Breaks</h2>
                    <div class="q-panel-g-1-value med-2-std-txt"><text class="sxd-y">#</text>13 Liam Colman</div>
                    <h4 class="q-panel-g-1-txt-single xs-small-txt">No. of Linebreaks</h4>
                    <h3 class="q-panel-g-1-val-single med-2-std-txt"><text id="top-lb-stat">N/A</text></h3>
                </div>
                <div class="gr-panel row-3 col-thrd-3" id="top-tb-panel-id">
                    <h2 class="q-panel-g-1-header med-std-txt">Top Tackles Broken</h2>
                    <div class="q-panel-g-1-value med-2-std-txt"><text class="sxd-y">#</text>8 Sam Ioane</div>
                    <h4 class="q-panel-g-1-sa-txt xs-small-txt">No. of Tackles Broken</h4>
                    <h4 class="q-panel-g-1-la-txt xs-small-txt">% Broke the First Tackle</h4>
                    <h3 class="q-panel-g-1-sa-val med-2-std-txt"><text id="top-tck-broken">N/A</text></h3>
                    <h3 class="q-panel-g-1-la-val med-2-std-txt"><text id="top-tck-pct-broken-first">N/A</text><text class="sxd-y">%</text></h3>

                </div>
                <div class="gr-panel row-4 col-thrd-1" id="top-rs-panel-id">
                    <h2 class="q-panel-g-1-header med-std-txt">Most Ruck Steals</h2>
                    <div class="q-panel-g-1-value med-2-std-txt"><text class="sxd-y">#</text>7 Ben Afu</div>
                    <h4 class="q-panel-g-1-txt-single xs-small-txt">No. of Ruck Steals</h4>
                    <h3 class="q-panel-g-1-val-single med-2-std-txt"><text id="ruck-steals-stat">N/A</text></h3>
                </div>                                
                <div class="gr-panel row-4 col-thrd-2" id="top-pm-panel-id">
                    <h2 class="q-panel-g-1-header med-std-txt">Best Playmaker</h2>
                    <div class="q-panel-g-1-value med-2-std-txt"><text class="sxd-y">#</text>10 Steve Francis</div>
                    <h4 class="q-panel-g-1-sa-txt xs-small-txt">Passes Leading to Linebreaks</h4>
                    <h4 class="q-panel-g-1-la-txt xs-small-txt">No. of Successful Passes</h4>
                    <h3 class="q-panel-g-1-sa-val med-2-std-txt"><text id="top-passes-to-lb-stat">N/A</text></h3>
                    <h3 class="q-panel-g-1-la-val med-2-std-txt"><text id="top-passess-success-stat">N/A</text></h3>
                </div>
                <div class="gr-panel row-4 col-thrd-3" id="top-bc-panel-id">
                    <h2 class="q-panel-g-1-header med-std-txt">Most Ball Carries</h2>
                    <div class="q-panel-g-1-value med-2-std-txt"><text class="sxd-y">#</text>8 Sam Ioane</div>
                    <h4 class="q-panel-g-1-txt-single xs-small-txt">Ball Carries Total</h4>
                    <h3 class="q-panel-g-1-val-single med-2-std-txt"><text id="top-bc-total-stat">N/A</text></h3>
                </div>
            `;
            $("#tc-header-txt").html("Overview<text class='sxd-y'>.</text>");
            $("#main-content-tm-centre").html(html_layout);
            fillInfo();
        };

        const displayAttack = () => {
            console.log("Displaying Attack Stats");
            $(".cnt-overall").attr("id", "cnt-overview-mc");
            $("#middle-col").css({
                "grid-row-end": "51",
                "grid-template-rows": "repeat(48, 1fr)"
            });
            $("#main-content-tm-centre").css({
                "grid-row-end": "51",
                "grid-template-rows": "repeat(48, 1fr)"
            });
            let html_layout = `
                <div class="gr-panel row-1 col-3q" id="att-tries-panel-id">
                    <div class="q-panel-g-1-header med-2-std-txt cntr">Tries<text class="sxd-y">.</text></div>
                    <div class="h-panel-sh-1 cntr med-std-txt">Tries Scored</div>
                    <div class="h-panel-sh-2 cntr med-std-txt">Season Average</div>
                    <div class="h-panel-sh-3 cntr med-std-txt">Total Season Tries</div>
                    <div class="h-panel-val-1 cntr att-tries-stat"><text id="tries-scored-stat">N/A</text></div>
                    <div class="h-panel-val-2 cntr att-tries-stat"><text id="tries-scored-av-stat">N/A</text></div>
                    <div class="h-panel-val-3 cntr att-tries-stat"><text id="tries-scored-total-stat">N/A</text></div>
                </div>
                <div class="gr-panel row-1 col-qrt-4" id="att-lb-panel-id">
                    <h2 class="q-panel-g-1-header">Linebreaks<text class="sxd-y">.</text></h2>
                    <h1 class="q-panel-g-1-value lg-header-txt"><text id="lb-stat">N/A</text></h1>
                    <h4 class="q-panel-g-1-sa-txt xs-small-txt">Compared to SA</h4>
                    <h4 class="q-panel-g-1-la-txt xs-small-txt">Compared to LA</h4>
                    <h3 class="q-panel-g-1-sa-val xs-small-txt sxd-g">+3%</h3>
                    <h3 class="q-panel-g-1-la-val xs-small-txt">+1%</h3>
                </div>
                <div class="gr-panel row-2 col-qrt-1" id="att-rob-panel-id">
                    <h2 class="q-panel-g-1-header">Running Onto the Ball<text class="sxd-y"> %.</text></h2>
                    <h1 class="q-panel-g-1-value lg-header-txt"><text id="rob-stat">N/A</text><text class="sxd-y">%</text></h1>
                    <h4 class="q-panel-g-1-sa-txt xs-small-txt">Compared to SA</h4>
                    <h4 class="q-panel-g-1-la-txt xs-small-txt">Compared to LA</h4>
                    <h3 class="q-panel-g-1-sa-val xs-small-txt sxd-g">+3%</h3>
                    <h3 class="q-panel-g-1-la-val xs-small-txt">+1%</h3>
                </div>
                <div class="gr-panel row-2 col-qrt-2" id="att-opp22-panel-id">
                    <h2 class="q-panel-g-1-header">Time in Opp '22<text class="sxd-y">.</text></h2>
                    <h1 class="q-panel-g-1-value lg-header-txt"><text id="opp-22-stat">N/A</text></h1>
                    <h4 class="q-panel-g-1-sa-txt xs-small-txt">Compared to SA</h4>
                    <h4 class="q-panel-g-1-la-txt xs-small-txt">Compared to LA</h4>
                    <h3 class="q-panel-g-1-sa-val xs-small-txt sxd-g">+3%</h3>
                    <h3 class="q-panel-g-1-la-val xs-small-txt">+1%</h3>
                </div>
                <div class="gr-panel row-2 col-qrt-3" id="att-tbtotal-panel-id">
                    <h2 class="q-panel-g-1-header">Tackles Broken<text class="sxd-y">.</text></h2>
                    <h1 class="q-panel-g-1-value lg-header-txt"><text id="tb-stat">N/A</text></h1>
                    <h4 class="q-panel-g-1-sa-txt xs-small-txt">Compared to SA</h4>
                    <h4 class="q-panel-g-1-la-txt xs-small-txt">Compared to LA</h4>
                    <h3 class="q-panel-g-1-sa-val xs-small-txt sxd-g">+3%</h3>
                    <h3 class="q-panel-g-1-la-val xs-small-txt">+1%</h3>
                </div>
                <div class="gr-panel row-2 col-qrt-4" id="att-pvisit22-panel-id">
                    <h2 class="q-panel-g-1-header">Points / Visit to '22<text class="sxd-y">.</text></h2>
                    <h1 class="q-panel-g-1-value lg-header-txt"><text id="pts-22-stat">N/A</text></h1>
                    <h4 class="q-panel-g-1-sa-txt xs-small-txt">Compared to SA</h4>
                    <h4 class="q-panel-g-1-la-txt xs-small-txt">Compared to LA</h4>
                    <h3 class="q-panel-g-1-sa-val xs-small-txt sxd-g">+3%</h3>
                    <h3 class="q-panel-g-1-la-val xs-small-txt">+1%</h3>
                </div>
                <div class="gr-panel row-3-4 col-full" id="att-meters-gained-grph-cnt">
                    <h2 id="graph-title"><text class="sxd-y">%</text> of the Time Meters Were Gained<text class="sxd-y">.</text></h2>
                    <div id="mg-graph-cnt">
                        <canvas id="mg-graph-canv"></canvas>
                    </div>
                </div>
            `;
            

            $("#tc-header-txt").html("Attack<text class='sxd-y'>.</text>");
            $("#main-content-tm-centre").html(html_layout);
            fillInfo();
            MetersGainedGraph();
        };

        const displayDefense = () => {
            console.log("Displaying Defense Stats");
            $(".cnt-overall").attr("id", "cnt-overview-mc-def");
            $("#middle-col").css({
                "grid-row-end": "71",
                "grid-template-rows": "repeat(71, 1fr)"
            });
            $("#main-content-tm-centre").css({
                "grid-row-end": "71",
                "grid-template-rows": "repeat(71, 1fr)"
            });

            let html_layout = `
                <div class="gr-panel row-1 col-qrt-1" id="def-tackles-made-panel-id">
                    <h2 class="q-panel-g-1-header">Tackles Made Total</h2>
                    <h1 class="q-panel-g-1-value lg-header-txt"><text id="tackles-made-stat">N/A</text><text class="sxd-y">%</text></h1>
                    <h4 class="q-panel-g-1-sa-txt xs-small-txt">Compared to SA</h4>
                    <h4 class="q-panel-g-1-la-txt xs-small-txt">Compared to LA</h4>
                    <h3 class="q-panel-g-1-sa-val xs-small-txt sxd-g">+3%</h3>
                    <h3 class="q-panel-g-1-la-val xs-small-txt">+1%</h3>
                </div>
                <div class="gr-panel row-1 col-qrt-2" id="def-tackles-missed-panel-id">
                    <h2 class="q-panel-g-1-header">Tackles Missed</h2>
                    <h1 class="q-panel-g-1-value lg-header-txt"><text id="tackles-missed-stat">N/A</text><text class="sxd-y"></text></h1>
                    <h4 class="q-panel-g-1-sa-txt xs-small-txt">Compared to SA</h4>
                    <h4 class="q-panel-g-1-la-txt xs-small-txt">Compared to LA</h4>
                    <h3 class="q-panel-g-1-sa-val xs-small-txt sxd-g">+3%</h3>
                    <h3 class="q-panel-g-1-la-val xs-small-txt">+1%</h3>
                </div>
                <div class="gr-panel row-1 col-qrt-3" id="def-tackles-success-panel-id">
                    <h2 class="q-panel-g-1-header">Tackles Success<text class="sxd-y"> %.</text></h2>
                    <h1 class="q-panel-g-1-value lg-header-txt"><text id="tackles-success-stat">N/A</text><text class="sxd-y">%</text></h1>
                    <h4 class="q-panel-g-1-sa-txt xs-small-txt">Compared to SA</h4>
                    <h4 class="q-panel-g-1-la-txt xs-small-txt">Compared to LA</h4>
                    <h3 class="q-panel-g-1-sa-val xs-small-txt sxd-g">+3%</h3>
                    <h3 class="q-panel-g-1-la-val xs-small-txt">+1%</h3>
                </div>
                <div class="gr-panel row-1 col-qrt-4" id="def-tackles-below-waist-panel-id">
                    <h2 class="q-panel-g-1-header">Tackles Below Waist<text class="sxd-y"> %.</text></h2>
                    <h1 class="q-panel-g-1-value lg-header-txt"><text id="tackles-below-waist-stat">N/A</text><text class="sxd-y">%</text></h1>
                    <h4 class="q-panel-g-1-sa-txt xs-small-txt">Compared to SA</h4>
                    <h4 class="q-panel-g-1-la-txt xs-small-txt">Compared to LA</h4>
                    <h3 class="q-panel-g-1-sa-val xs-small-txt sxd-g">+3%</h3>
                    <h3 class="q-panel-g-1-la-val xs-small-txt">+1%</h3>
                </div>
                <div class="gr-panel row-2-3 col-hlf-1" id="def-tklpos-panel-id">
                    <h2 id="graph-title-2">Tackle Success<text class="sxd-y"> %</text> by Position<text class="sxd-y">.</text></h2>
                    <div id="ts-pos-graph-cnt">
                        <canvas id="ts-pos-graph"></canvas>
                    </div>
                </div>
                <div class="gr-panel row-2-3 col-hlf-2" id="def-tkltype-panel-id">
                    <h2 id="graph-title-2">Tackle Success<text class="sxd-y"> %</text> by Type of Tackle<text class="sxd-y">.</text></h2>
                    <div id="ts-pos-graph-cnt">
                        <canvas id="tck-aw-graph"></canvas>
                    </div>
                </div>
                <div class="gr-panel row-4-5 col-hlf-1" id="def-tklarea-panel-id">
                    <h2 id="graph-title-2">Tackle Success<text class="sxd-y"> %</text> by Area of Field<text class="sxd-y">.</text></h2>
                    <div id="ts-pos-graph-cnt">
                        <canvas id="tck-area-graph"></canvas>
                    </div>
                </div>
                <div class="gr-panel row-4-5 col-hlf-2 hlf" id="def-avgls-panel-id">
                    <h2 class="q-panel-g-1-header">Average Linespeed (time until first contact)<text class="sxd-y">.</text></h2>
                    <h1 class="q-panel-g-1-value lger-txt"><text id="av-linespeed-stat">N/A</text><text class="sxd-y"> s</text></h1>
                    <h4 class="q-panel-g-1-sa-txt xs-small-txt">Compared to SA</h4>
                    <h4 class="q-panel-g-1-la-txt xs-small-txt">Compared to LA</h4>
                    <h3 class="q-panel-g-1-sa-val xs-small-txt sxd-g">+3%</h3>
                    <h3 class="q-panel-g-1-la-val xs-small-txt">+1%</h3>
                </div>
                <div class="gr-panel row-6-7 col-hlf-1 hlf" id="def-avgls-panel-id">
                    <h2 class="q-panel-g-1-header">Clean Line Breaks Allowed<text class="sxd-y">.</text></h2>
                    <h1 class="q-panel-g-1-value lger-txt"><text id="linebreaks-total-stat">N/A</text></h1>
                    <h4 class="q-panel-g-1-sa-txt xs-small-txt">Compared to SA</h4>
                    <h4 class="q-panel-g-1-la-txt xs-small-txt">Compared to LA</h4>
                    <h3 class="q-panel-g-1-sa-val xs-small-txt sxd-g">+3%</h3>
                    <h3 class="q-panel-g-1-la-val xs-small-txt">+1%</h3>
                </div>
                <div class="gr-panel row-6-7 col-hlf-2 hlf" id="def-avgls-panel-id">
                    <h2 id="graph-title-2">Line Breaks Allowed by Position<text class="sxd-y">.</text></h2>
                    <div id="ts-pos-graph-cnt">
                        <canvas id="lb-by-position-graph"></canvas>
                    </div>
                </div>
                
                
            `;
            $("#tc-header-txt").html("Defense<text class='sxd-y'>.</text>");
            $("#main-content-tm-centre").html(html_layout);
            fillInfo();
            TackleSuccessPosGraph();
            TackleSuccessByTypeGraph();
            TackleSuccessByArea();
            LinebreaksByPos();
        }

        const displayKickingGame = () => {
            console.log("Displaying Kicking Game Stats");
            let html_layout = `
                <div class="gr-panel row-1 col-thrd-1" id="kicks-made-panel-id"></div>
                <div class="gr-panel row-1 col-thrd-2" id="pos-kicked-panel-id"></div>
                <div class="gr-panel row-1 col-thrd-3" id="kicks-full-panel-id"></div>
                <div class="gr-panel row-2 col-hlf-1" id="type-kicks-panel-id"></div>
                <div class="gr-panel row-2 col-hlf-2" id="kicks-reg-panel-id"></div>
                <div class="gr-panel row-3 col-hlf-1" id="kick-touch-gain-panel-id"></div>
                <div class="gr-panel row-3 col-hlf-2" id="gk-panel-id"></div>
                <div class="gr-panel row-4-5 col-full" id="kg-hl-panel-id"></div>
            `;
            $("#tc-header-txt").html("Kicking Game<text class='sxd-y'>.</text>");
            $("#main-content-tm-centre").html(html_layout);
        }

        const displayBallHandling = () => {
            console.log("Displaying Ball Handilng Stats");
            let html_layout = `
                <div class="gr-panel row-1 col-thrd-1" id="pass-success-panel-id"></div>
                <div class="gr-panel row-1 col-thrd-2" id="total-success-pass-panel-id"></div>
                <div class="gr-panel row-1 col-thrd-3" id="total-unsuccessful-pass-panel-id"></div>
                <div class="gr-panel row-2 col-full" id="ps-type-panel-id"></div>
                <div class="gr-panel row-3 col-full" id="type-pass-panel-id"></div>
                <div class="gr-panel row-4 col-hlf-1" id="total-he-panel-id"></div>
                <div class="gr-panel row-4 col-hlf-2" id="typ-he-panel-id"></div>
                <div class="gr-panel row-4-5 col-full" id="bh-hl-panel-id"></div>
            `;
            $("#tc-header-txt").html("Ball Handling<text class='sxd-y'>.</text>");
            $("#main-content-tm-centre").html(html_layout);
        };

        const displayRucks = () => {
            console.log("Displaying Breakdown Stats");
            let html_layout = `
                <div class="gr-panel row-1 col-thrd-1" id="total-rw-panel-id"></div>
                <div class="gr-panel row-1 col-thrd-2" id="total-rl-panel-id"></div>
                <div class="gr-panel row-1 col-thrd-3" id="total-rs-panel-id"></div>
                <div class="gr-panel row-2-3 col-full" id="rspeed-panel-id"></div>
                <div class="gr-panel row-4-5 col-full" id="how-rucks-lost-panel-id"></div>
                <div class="gr-panel row-6-7 col-full" id="rucks-hl-panel-id"></div>
                
            `;
            $("#tc-header-txt").html("The Breakdown<text class='sxd-y'>.</text>");
            $("#main-content-tm-centre").html(html_layout);
        };
        
        const displaySetPiece = () => {
            console.log("Displaying Set Piece Stats");
            let html_layout = `
                <div class="gr-panel row-1-2 col-full" id="sp-success-panel-id"></div>
                <div class="gr-panel row-3 col-thrd-1" id="tot-lin-stolen-panel-id"></div>
                <div class="gr-panel row-3 col-thrd-2" id="tot-scrums-stolen-panel-id"></div>
                <div class="gr-panel row-3 col-thrd-3" id="sp-22-try-panel-id"></div>
                <div class="gr-panel row-4-5 col-full" id="sp-hl-panel-id"></div>
            `
            $("#tc-header-txt").html("Set Piece<text class='sxd-y'>.</text>");
            $("#main-content-tm-centre").html(html_layout);
        };


        const displayDiscipline = () => {
            console.log("Displaying Set Piece Stats");
            let html_layout = `
                <div class="gr-panel row-1 col-hlf-1" id="tot-pen-conc-panel-id"></div>
                <div class="gr-panel row-1 col-hlf-2" id="pts-frm-pens-panel-id"></div>
                <div class="gr-panel row-2-3 col-full" id="type-pen-panel-id"></div>
                <div class="gr-panel row-4 col-thrd-1" id="dang-tack-panel-id"></div>
                <div class="gr-panel row-4 col-thrd-2" id="dang-re-panel-id"></div>
                <div class="gr-panel row-4 col-thrd-3" id="offsides-panel-id"></div>
                <div class="gr-panel row-5-6 col-full" id="disc-hl-panel-id"></div>
            `
            $("#tc-header-txt").html("Discipline<text class='sxd-y'>.</text>");
            $("#main-content-tm-centre").html(html_layout);
        };

         // Show overview as default
        displayOverview();
        //displayAttack();
        //displayDefense();
        

    </script>
{% endblock %}
